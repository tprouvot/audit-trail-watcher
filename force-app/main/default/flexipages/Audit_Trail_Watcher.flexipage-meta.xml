<?xml version="1.0" encoding="UTF-8"?>
<FlexiPage xmlns="http://soap.sforce.com/2006/04/metadata">
    <flexiPageRegions>
        <itemInstances>
            <componentInstance>
                <componentInstanceProperties>
                    <name>decorate</name>
                    <value>true</value>
                </componentInstanceProperties>
                <componentInstanceProperties>
                    <name>richTextValue</name>
                    <value>&lt;h1&gt;&lt;strong&gt;Audit Trail Watcher Framework&lt;/strong&gt;&lt;/h1&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;This framework allows Salesforce admins to configure rules to monitor Setup Audit Trail events and notify users or systems based on customizable conditions.&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;More details on the Github Repository: &lt;a href=&quot;https://github.com/tprouvot/audit-trail-watcher&quot; rel=&quot;noopener noreferrer&quot; target=&quot;_blank&quot;&gt;https://github.com/tprouvot/audit-trail-watcher&lt;/a&gt;&lt;/p&gt;</value>
                </componentInstanceProperties>
                <componentName>flexipage:richText</componentName>
                <identifier>flexipage_richText3</identifier>
            </componentInstance>
        </itemInstances>
        <name>region1</name>
        <type>Region</type>
    </flexiPageRegions>
    <flexiPageRegions>
        <itemInstances>
            <componentInstance>
                <componentInstanceProperties>
                    <name>decorate</name>
                    <value>true</value>
                </componentInstanceProperties>
                <componentInstanceProperties>
                    <name>richTextValue</name>
                    <value>&lt;h2&gt;Prerequisites&lt;/h2&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;Before deploying or using this framework:&lt;/p&gt;&lt;ol&gt;&lt;li&gt;Org-Wide Email Address&amp;nbsp;– Create an Org-Wide Email Address in&amp;nbsp;Setup → Organization-Wide Addresses&amp;nbsp;with&amp;nbsp;Display Name&amp;nbsp;set to&amp;nbsp;&lt;code style=&quot;background-color: rgba(101, 108, 118, 0.2); font-size: 13.6px; font-family: &amp;quot;Monaspace Neon&amp;quot;, ui-monospace, SFMono-Regular, &amp;quot;SF Mono&amp;quot;, Menlo, Consolas, &amp;quot;Liberation Mono&amp;quot;, monospace;&quot;&gt;AuditTrailWatcher&lt;/code&gt;. This address is used as the &quot;From&quot; address for notification emails. If not created, emails will use the running user&apos;s address.&lt;/li&gt;&lt;li&gt;Assign &lt;span style=&quot;background-color: rgba(101, 108, 118, 0.2); font-size: 13.6px; font-family: &amp;quot;Monaspace Neon&amp;quot;, ui-monospace, SFMono-Regular, &amp;quot;SF Mono&amp;quot;, Menlo, Consolas, &amp;quot;Liberation Mono&amp;quot;, monospace; color: rgb(68, 68, 68);&quot;&gt;AuditTrailWatcherAdmin&lt;/span&gt;&lt;span style=&quot;color: rgb(68, 68, 68);&quot;&gt; permission set &lt;/span&gt;&lt;/li&gt;&lt;/ol&gt;</value>
                </componentInstanceProperties>
                <componentName>flexipage:richText</componentName>
                <identifier>flexipage_richText</identifier>
            </componentInstance>
        </itemInstances>
        <name>region2</name>
        <type>Region</type>
    </flexiPageRegions>
    <flexiPageRegions>
        <itemInstances>
            <componentInstance>
                <componentInstanceProperties>
                    <name>decorate</name>
                    <value>true</value>
                </componentInstanceProperties>
                <componentInstanceProperties>
                    <name>richTextValue</name>
                    <value>&lt;h2&gt;How to Configure Rules&lt;/h2&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;ol&gt;&lt;li&gt;Create a rule on&amp;nbsp;&lt;code style=&quot;background-color: rgba(101, 108, 118, 0.2); font-size: 13.6px; font-family: &amp;quot;Monaspace Neon&amp;quot;, ui-monospace, SFMono-Regular, &amp;quot;SF Mono&amp;quot;, Menlo, Consolas, &amp;quot;Liberation Mono&amp;quot;, monospace;&quot;&gt;AuditTrailWatcherRule__c&lt;/code&gt;.&lt;/li&gt;&lt;li&gt;Set&amp;nbsp;Action&amp;nbsp;(parent field) to the Setup Audit Trail action to monitor (e.g.,&amp;nbsp;&lt;code style=&quot;background-color: rgba(101, 108, 118, 0.2); font-size: 13.6px; font-family: &amp;quot;Monaspace Neon&amp;quot;, ui-monospace, SFMono-Regular, &amp;quot;SF Mono&amp;quot;, Menlo, Consolas, &amp;quot;Liberation Mono&amp;quot;, monospace;&quot;&gt;changedApexClass&lt;/code&gt;).&lt;/li&gt;&lt;li&gt;Set&amp;nbsp;Logic Type&amp;nbsp;(AND, OR, or Custom).&lt;/li&gt;&lt;li&gt;If Custom, enter&amp;nbsp;Custom Logic&amp;nbsp;(e.g.,&amp;nbsp;&lt;code style=&quot;background-color: rgba(101, 108, 118, 0.2); font-size: 13.6px; font-family: &amp;quot;Monaspace Neon&amp;quot;, ui-monospace, SFMono-Regular, &amp;quot;SF Mono&amp;quot;, Menlo, Consolas, &amp;quot;Liberation Mono&amp;quot;, monospace;&quot;&gt;(1 OR 2) AND 3&lt;/code&gt;).&lt;/li&gt;&lt;li&gt;Add&amp;nbsp;Rule Conditions&amp;nbsp;(related list): for each condition, set Condition Number, Source Field (or leave default Display), Operator, and Value.&lt;/li&gt;&lt;li&gt;Set&amp;nbsp;Notification Recipient&amp;nbsp;and/or&amp;nbsp;Group Names&amp;nbsp;for email.&lt;/li&gt;&lt;li&gt;Optionally enable&amp;nbsp;Send Platform Event&amp;nbsp;and&amp;nbsp;Track Activity.&lt;/li&gt;&lt;li&gt;Set&amp;nbsp;Severity&amp;nbsp;and activate the rule (Active&amp;nbsp;= true).&lt;/li&gt;&lt;/ol&gt;&lt;h2&gt;How to Run&lt;/h2&gt;&lt;pre class=&quot;ql-syntax&quot; spellcheck=&quot;false&quot;&gt;// Schedule (e.g., every hour)
System.schedule(&apos;AuditTrailWatcherSchedule&apos;, &apos;0 0 * * * ?&apos;, new AuditTrailWatcherBatch());
&lt;/pre&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;h2&gt;Email Template&lt;/h2&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;The included email template shows a table of matching audit records. The Action column links to the rule record. Severity drives the alert styling.&lt;/p&gt;&lt;h2&gt;Platform Event&lt;/h2&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;code style=&quot;background-color: rgba(101, 108, 118, 0.2); font-size: 13.6px; font-family: &amp;quot;Monaspace Neon&amp;quot;, ui-monospace, SFMono-Regular, &amp;quot;SF Mono&amp;quot;, Menlo, Consolas, &amp;quot;Liberation Mono&amp;quot;, monospace;&quot;&gt;AuditTrailWatcherEvent__e&lt;/code&gt;&amp;nbsp;is published when a rule matches and&amp;nbsp;Send Platform Event&amp;nbsp;is enabled. It includes action, section, user, and other details.&lt;/p&gt;</value>
                </componentInstanceProperties>
                <componentName>flexipage:richText</componentName>
                <identifier>flexipage_richText2</identifier>
            </componentInstance>
        </itemInstances>
        <name>region3</name>
        <type>Region</type>
    </flexiPageRegions>
    <masterLabel>Audit Trail Watcher</masterLabel>
    <template>
        <name>flexipage:appHomeTemplateHeaderTwoColumnsLeftSidebar</name>
    </template>
    <type>AppPage</type>
</FlexiPage>
